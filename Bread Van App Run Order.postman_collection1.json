{
	"info": {
		"_postman_id": "7bdf2448-2f93-42ad-aa4f-7acbae7b068e",
		"name": "Bread Van App Run Order",
		"description": "This collection is organized so that tests can run sequentially without probelm.\n\nFor Scripts to run properly the base URL environmental variable must be set to your own port number. Additionally the domain must be put in postman cookie manager whitelist ( ex localhost:8080 ).",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "42003084"
	},
	"item": [
		{
			"name": "Initialize",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{admin_access_token}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/init",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"init"
					]
				},
				"description": "Resets database to default"
			},
			"response": []
		},
		{
			"name": "Login - Admin",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response has access token\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('access_token');",
							"    pm.environment.set(\"admin_access_token\", jsonData.access_token);",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"username\": \"admin\",\n  \"password\": \"adminpass\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/api/login",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"login"
					]
				},
				"description": "Login as admin user"
			},
			"response": []
		},
		{
			"name": "Login - Driver",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response has access token\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('access_token');",
							"});",
							"",
							"var jsonData = pm.response.json();",
							"pm.environment.set(\"driver_access_token\", jsonData.access_token);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"username\": \"bob\",\n  \"password\": \"bobpass\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/api/login",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"login"
					]
				},
				"description": "Login as driver user"
			},
			"response": []
		},
		{
			"name": "Login - Resident",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response has access token\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('access_token');",
							"});",
							"",
							"var jsonData = pm.response.json();",
							"pm.environment.set(\"resident_access_token\", jsonData.access_token);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"username\": \"alice\",\n  \"password\": \"alicepass\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/api/login",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"login"
					]
				},
				"description": "Login as resident user"
			},
			"response": []
		},
		{
			"name": "Login - Missing Credentials",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 422 for validation error\", function () {",
							"    pm.response.to.have.status(401);",
							"});",
							"",
							"let responseJson = pm.response.json();",
							"",
							"pm.test(\"Response has validation error structure\", function () {",
							"",
							"    pm.expect(responseJson.message).to.eql(\"bad username or password given\");;",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"username\": \"\",\n  \"password\": \"\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/api/login",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"login"
					]
				},
				"description": "Bad login attmept"
			},
			"response": []
		},
		{
			"name": "Home Page",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{driver_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/",
					"host": [
						"{{base_url}}"
					],
					"path": [
						""
					]
				},
				"description": "Placed here so when running tests postman allows the editing of cookies"
			},
			"response": []
		},
		{
			"name": "Create Area",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});",
							"",
							"pm.test(\"Response contains area data\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('id');",
							"    pm.expect(jsonData).to.have.property('name');",
							"    // Store area ID for later use",
							"    pm.environment.set(\"area_id\", jsonData.id);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"admin_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							"\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{admin_access_token}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"name\": \"Downtown\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/admin/areas",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"admin",
						"areas"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create Street",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});",
							"",
							"pm.test(\"Response contains street data\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('id');",
							"    pm.expect(jsonData).to.have.property('name', 'Main Street');",
							"    ",
							"    //pm.environment.set(\"street_id\", jsonData.id);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"admin_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{admin_access_token}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"name\": \"Main Street\",\n  \"area_id\": {{area_id}}\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/admin/streets",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"admin",
						"streets"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create Driver",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});",
							"",
							"pm.test(\"Response contains driver data\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('id');",
							"    pm.expect(jsonData).to.have.property('username', 'new_driver');",
							"    ",
							"    pm.environment.set(\"created_driver_id\", jsonData.id);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"admin_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"    \r",
							"    const host = pm.request.url.getHost();\r",
							"\r",
							"    cookieJar.set(host, '{{admin_access_token}}', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{admin_access_token}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"username\": \"new_driver\",\n  \"password\": \"driver123\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/admin/drivers",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"admin",
						"drivers"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create Resident",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});",
							"",
							"pm.test(\"Response contains resident data\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('id');",
							"    pm.expect(jsonData).to.have.property('username', 'new_resident');",
							"    pm.expect(jsonData).to.have.property('areaId', pm.environment.get('area_id'));",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"admin_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{admin_access_token}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"username\": \"new_resident\",\n  \"password\": \"resident123\",\n  \"area_id\": {{area_id}},\n  \"street_id\": {{street_id}},\n  \"house_number\": \"123\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/admin/residents",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"admin",
						"residents"
					]
				}
			},
			"response": []
		},
		{
			"name": "List Areas",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response contains areas array\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('items');",
							"    pm.expect(jsonData.items).to.be.an('array');",
							"    pm.expect(jsonData.items.length).to.be.greaterThan(0);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"admin_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{admin_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/admin/areas",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"admin",
						"areas"
					]
				}
			},
			"response": []
		},
		{
			"name": "List Streets",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response contains streets array\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('items');",
							"    pm.expect(jsonData.items).to.be.an('array');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"admin_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{admin_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/admin/streets",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"admin",
						"streets"
					]
				}
			},
			"response": []
		},
		{
			"name": "List Users",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"admin_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{admin_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/admin/users",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"admin",
						"users"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete Driver",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 204\", function () {",
							"    pm.response.to.have.status(204);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"admin_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{admin_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/admin/drivers/{{created_driver_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"admin",
						"drivers",
						"{{created_driver_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Driver Profile",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response contains driver id\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('id');",
							"});",
							"",
							"pm.execution.setNextRequest(\"Subscribe to Street\");"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"driver_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{driver_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/driver/me",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"driver",
						"me"
					]
				}
			},
			"response": []
		},
		{
			"name": "Subscribe to Street",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"resident_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{resident_access_token}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  //\"street_id\": {{street_id}}\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/resident/subscriptions",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"resident",
						"subscriptions"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create Drive",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});",
							"",
							"pm.test(\"Response contains drive data\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('id');",
							"    pm.expect(jsonData).to.have.property('streetId', 2);",
							"    pm.expect(jsonData).to.have.property('date', '2025-12-25');",
							"    pm.expect(jsonData).to.have.property('time', '14:30:00');",
							"    pm.expect(jsonData).to.have.property('status', 'Upcoming');",
							"    pm.expect(jsonData).to.have.property('driverId');",
							"    pm.expect(jsonData).to.have.property('areaId', (pm.environment.get(\"area_id\")));",
							"    ",
							"    pm.environment.set(\"drive_id\", jsonData.id);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"driver_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{driver_access_token}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"street_id\": \"2\",\n  \"area_id\": {{area_id}},\n  \"date\": \"2025-12-25\",\n  \"time\": \"14:30\",\n  \"menu_id\": \"1\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/driver/drives",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"driver",
						"drives"
					]
				}
			},
			"response": []
		},
		{
			"name": "List Drives",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response contains drives array with pagination\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('items');",
							"    pm.expect(jsonData.items).to.be.an('array');",
							"    pm.expect(jsonData).to.have.property('page', 1);",
							"    pm.expect(jsonData).to.have.property('total');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"driver_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{driver_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/driver/drives?page=1&page_size=10",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"driver",
						"drives"
					],
					"query": [
						{
							"key": "page",
							"value": "1"
						},
						{
							"key": "page_size",
							"value": "10"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Start Drive",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Drive status is started\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('id', parseInt(pm.environment.get('drive_id')));",
							"    pm.expect(jsonData).to.have.property('status', 'started');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"driver_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{driver_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/driver/drives/{{drive_id}}/start",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"driver",
						"drives",
						"{{drive_id}}",
						"start"
					]
				},
				"description": "# Start Drive\n\n## Overview\n\nThis endpoint initiates a delivery drive, changing its status from pending to started. Once a drive is started, the driver can begin making deliveries along their assigned route.\n\n## URL Parameters\n\n- **drive_id** (required): The unique identifier of the drive to start. This would be set in the environment variable by a previous request and corresponds to a drive that has been assigned to the authenticated driver.\n    \n\n## Request Details\n\n- **Method**: POST\n    \n- **URL**: `{{base_url}}/driver/drives/{{drive_id}}/start`\n    \n- **Body**: None required\n    \n\n## Expected Response\n\n**Success (200 OK)**:\n\n``` json\n{\n  \"id\": 123,\n  \"status\": \"started\"\n}\n\n ```\n\nThe response includes:\n\n- `id`: The drive ID that was started (matches the `drive_id` parameter)\n    \n- `status`: Confirmation that the drive status is now \"started\"\n    \n\n## Pre-request Script Notes\n\nThis request includes a pre-request script that:\n\n1. Retrieves the `driver_access_token` from the environment\n    \n2. Sets it as a cookie named `access_token` for the API host\n    \n3. Logs warnings if the token is not set\n    \n4. This ensures the JWT token is available both as a header and as a cookie for the request\n    \n\n## Tests\n\nThe request includes automated tests that verify:\n\n- Response status code is 200\n    \n- Response contains the correct drive ID\n    \n- Drive status is set to \"started\""
			},
			"response": []
		},
		{
			"name": "Create Stop Request",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});",
							"",
							"pm.test(\"Response contains stop data\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('id');",
							"    // Store stop ID for later use",
							"    pm.environment.set(\"stop_id\", jsonData.id);",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"resident_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{resident_access_token}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"drive_id\": {{drive_id}}\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/resident/stops",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"resident",
						"stops"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Requested Stops",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response contains stops array\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('items');",
							"    pm.expect(jsonData.items).to.be.an('array');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"driver_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{driver_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/driver/drives/{{drive_id}}/requested-stops",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"driver",
						"drives",
						"{{drive_id}}",
						"requested-stops"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Available Drives",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response contains drives with menu information\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('drives');",
							"    pm.expect(jsonData.drives).to.be.an('array');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"resident_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{resident_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/resident/drives",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"resident",
						"drives"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete Stop Request",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 204\", function () {",
							"    pm.response.to.have.status(204);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"resident_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{resident_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/resident/stops/{{stop_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"resident",
						"stops",
						"{{stop_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "End Drive",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Drive status is ended\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('id', parseInt(pm.environment.get('drive_id')));",
							"    pm.expect(jsonData).to.have.property('status', 'ended');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"driver_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{driver_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/driver/drives/{{drive_id}}/end",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"driver",
						"drives",
						"{{drive_id}}",
						"end"
					]
				}
			},
			"response": []
		},
		{
			"name": "Cancel Drive",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Drive status is ended\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('id', parseInt(pm.environment.get('drive_id')));",
							"    pm.expect(jsonData).to.have.property('status', 'cancelled');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"driver_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{driver_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/driver/drives/{{drive_id}}/cancel",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"driver",
						"drives",
						"{{drive_id}}",
						"cancel"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Resident Profile",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response contains resident id\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('id');",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"resident_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{resident_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/resident/me",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"resident",
						"me"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Subscriptions",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response contains subscriptions\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('subscriptions');",
							"    pm.expect(jsonData.subscriptions).to.be.an('array');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"resident_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{resident_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/resident/subscriptions",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"resident",
						"subscriptions"
					]
				},
				"description": "## Get Subscriptions\n\nThis endpoint retrieves all subscriptions associated with a resident account in the Bakery Delivery System.\n\n### Authentication\n\nThis request uses **Bearer Token** authentication with the `resident_access_token` environment variable. The token must be set in the Authorization header.\n\n### Pre-request Script\n\nBefore sending the request, a pre-request script automatically sets a JWT cookie from the `resident_access_token` environment variable. This ensures the authentication token is available both as a header and as a cookie for the API request.\n\n### Expected Response\n\nThe API returns a JSON object containing:\n\n- **subscriptions** (array): A list of all active subscriptions for the authenticated resident\n    \n\nExample response structure:\n\n``` json\n{\n  \"subscriptions\": [\n    // Array of subscription objects\n  ]\n}\n\n ```\n\n### Automated Tests\n\nThis request includes post-response tests that validate:\n\n1. **Status Code**: Confirms the response returns a `200 OK` status\n    \n2. **Response Structure**: Verifies that the response contains a `subscriptions` property that is an array\n    \n\nThese tests ensure the endpoint is functioning correctly and returning data in the expected format."
			},
			"response": []
		},
		{
			"name": "Get Notifications",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response contains notifications\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.have.property('notifications');",
							"    pm.expect(jsonData.notifications).to.be.an('array');",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const jwtToken = pm.environment.get(\"resident_access_token\");\r",
							"\r",
							"if (!jwtToken) {\r",
							"    console.warn(\"JWT environment variable not set!\");\r",
							"} else {\r",
							"    \r",
							"    const cookieJar = pm.cookies.jar();\r",
							"\r",
							"    const host = pm.environment.get(\"base_url\")\r",
							"\r",
							"    cookieJar.set(host, 'access_token', jwtToken, { path: '/' }, function (error) {\r",
							"        if (error) {\r",
							"            console.error(\"Failed to set JWT cookie:\", error);\r",
							"        } else {\r",
							"            console.log(\"JWT cookie set successfully\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{resident_access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/resident/notifications",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"resident",
						"notifications"
					]
				}
			},
			"response": []
		}
	]
}